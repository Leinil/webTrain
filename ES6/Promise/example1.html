<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Promise嵌套</title>
	</head>
	<body>
		<p>new promise返回的是一个对象，构造函数接受一个函数用于规定resolve和reject的行为</p>
		<p>then返回的是另外一个promise同样的接受resolve和reject的回调函数</p>
	</body>
	<script>
		const p1=new Promise(function(resolve,reject){
			setTimeout(()=>resolve(new Error('fail')),3000)
		})
		
		const p2=new Promise(function(resolve,reject){
			setTimeout(()=>resolve(p1),1000)
		}) //
		
		p2.then(result=>{
			console.log('111');
			console.log("result",result)
		}).catch(error=>{
			console.log("222");
			console.log("error",error)
		})
	</script>
</html>
